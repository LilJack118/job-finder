{% extends 'main.html' %} 
{% load static %}

{% block content %}

<div class="main-section-stats">
  

  <!-- EXPERIENCE CHECKBOXES -->
  <h3>Poziom Stanowiska</h3>
<div class = 'checkbox_stats'>
  
  <label>junior
    <input style="all: revert" type="checkbox">
    <span style="all: revert" class="checkmark"></span>
  </label>

  <label>mid
    <input style="all: revert" type="checkbox">
    <span style="all: revert" class="checkmark"></span>
  </label>

  <label>senior
    <input style="all: revert" type="checkbox">
    <span style="all: revert" class="checkmark"></span>
  </label>

<hr>

<!-- AGREEMENT CHECKBOXES -->
  <h3>Rodzaj umowy</h3>
<div class = 'checkbox_stats'>
  
  <label>permanent
    <input style="all: revert" type="checkbox">
    <span style="all: revert" class="checkmark"></span>
  </label>

  <label>b2b
    <input style="all: revert" type="checkbox">
    <span style="all: revert" class="checkmark"></span>
  </label>

  <label>mandate_contract
    <input style="all: revert" type="checkbox">
    <span style="all: revert" class="checkmark"></span>
  </label>

</div>

<hr>


<!-- Statistics -->


<!-- <div class="salary-container">
  <p>Average Salary: 4000</p>
  <p>Lowest Salary: 4000</p>
  <p>Highest Salary: 4000</p>
</div> -->


<div class="chart_container">
  <h1>Salary</h1>
  <canvas id="myChart" class="myChart" data-type="line" data-data='salary' width="400" height="150" ></canvas>
</div>


<div class="chart_container" style="width: 60%;">
  <h1>Cities</h1>
  <canvas id="myChart" class="myChart" data-type="pie" data-data='most_common_cities'></canvas>
</div>

<div class="chart_container">
  <h1>Requirement Skills</h1>
  <canvas id="myChart" class="myChart" data-type="bar" data-data='most_common_req_skills' width="400" height="150"></canvas>
</div>

<div class="chart_container">
  <h1>Nice to have Skills</h1>
  <canvas id="myChart" class="myChart" data-type="bar" data-data='most_common_nice_skills' width="400" height="150"></canvas>
</div>

<div class="chart_container">
  <h1>Company Size</h1>
  <canvas id="myChart" class="myChart" data-type="bar" data-data='most_common_company_size' width="400" height="150"></canvas>
</div>





</div>

{% endblock content %}

{% block js %}

<script type="text/javascript">
  let received_data  = "{{data|safe}}";
  received_data = JSON.parse(received_data.replaceAll("'", '"'));
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
<script src="{% static 'js/charts.js' %}"></script>
{% endblock js %}